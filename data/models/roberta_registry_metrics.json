{
  "best_epoch": 5,
  "best_val_macro_f1": 0.8049811388514709,
  "test_metrics": {
    "macro_f1": 0.7713497055129346,
    "micro_f1": 0.9129804205946338,
    "rare_class_f1": 0.5717946398849005,
    "per_label": {
      "airway_dilation": {
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "threshold": 0.8500000000000002,
        "support": 0
      },
      "airway_stent": {
        "precision": 0.9210526315789473,
        "recall": 0.7664233576642335,
        "f1": 0.8366533864541833,
        "threshold": 0.7000000000000002,
        "support": 137
      },
      "bal": {
        "precision": 0.9312977099236641,
        "recall": 0.9242424242424242,
        "f1": 0.9277566539923955,
        "threshold": 0.8500000000000002,
        "support": 132
      },
      "blvr": {
        "precision": 0.9875,
        "recall": 0.9753086419753086,
        "f1": 0.9813664596273292,
        "threshold": 0.8500000000000002,
        "support": 81
      },
      "brachytherapy_catheter": {
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "threshold": 0.20000000000000004,
        "support": 0
      },
      "bronchial_thermoplasty": {
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "threshold": 0.40000000000000013,
        "support": 29
      },
      "bronchial_wash": {
        "precision": 0.6666666666666666,
        "recall": 1.0,
        "f1": 0.8,
        "threshold": 0.8500000000000002,
        "support": 2
      },
      "brushings": {
        "precision": 0.8902439024390244,
        "recall": 0.9668874172185431,
        "f1": 0.926984126984127,
        "threshold": 0.7500000000000002,
        "support": 151
      },
      "chest_tube": {
        "precision": 0.972972972972973,
        "recall": 0.9795918367346939,
        "f1": 0.976271186440678,
        "threshold": 0.8500000000000002,
        "support": 147
      },
      "cryotherapy": {
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "threshold": 0.5,
        "support": 0
      },
      "diagnostic_bronchoscopy": {
        "precision": 0.951440329218107,
        "recall": 0.9545829892650702,
        "f1": 0.9530090684253916,
        "threshold": 0.15000000000000002,
        "support": 1211
      },
      "endobronchial_biopsy": {
        "precision": 0.890625,
        "recall": 0.9661016949152542,
        "f1": 0.926829268292683,
        "threshold": 0.8500000000000002,
        "support": 59
      },
      "fibrinolytic_therapy": {
        "precision": 0.7857142857142857,
        "recall": 1.0,
        "f1": 0.88,
        "threshold": 0.3500000000000001,
        "support": 11
      },
      "foreign_body_removal": {
        "precision": 0.8333333333333334,
        "recall": 1.0,
        "f1": 0.9090909090909091,
        "threshold": 0.5000000000000001,
        "support": 40
      },
      "ipc": {
        "precision": 0.9454545454545454,
        "recall": 0.8253968253968254,
        "f1": 0.8813559322033898,
        "threshold": 0.8500000000000002,
        "support": 63
      },
      "linear_ebus": {
        "precision": 0.946875,
        "recall": 0.9588607594936709,
        "f1": 0.9528301886792453,
        "threshold": 0.7000000000000002,
        "support": 316
      },
      "mechanical_debulking": {
        "precision": 0.9838056680161943,
        "recall": 0.9101123595505618,
        "f1": 0.9455252918287937,
        "threshold": 0.8000000000000002,
        "support": 267
      },
      "medical_thoracoscopy": {
        "precision": 0.9411764705882353,
        "recall": 0.8951048951048951,
        "f1": 0.9175627240143369,
        "threshold": 0.8000000000000002,
        "support": 143
      },
      "navigational_bronchoscopy": {
        "precision": 0.7178014766201805,
        "recall": 0.9583789704271632,
        "f1": 0.8208255159474672,
        "threshold": 0.25000000000000006,
        "support": 913
      },
      "peripheral_ablation": {
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "threshold": 0.5,
        "support": 0
      },
      "photodynamic_therapy": {
        "precision": 0.9,
        "recall": 1.0,
        "f1": 0.9473684210526315,
        "threshold": 0.45000000000000007,
        "support": 9
      },
      "pleural_biopsy": {
        "precision": 0.7894736842105263,
        "recall": 0.967741935483871,
        "f1": 0.8695652173913043,
        "threshold": 0.8000000000000002,
        "support": 62
      },
      "pleurodesis": {
        "precision": 0.9910714285714286,
        "recall": 0.9568965517241379,
        "f1": 0.9736842105263158,
        "threshold": 0.8000000000000002,
        "support": 116
      },
      "radial_ebus": {
        "precision": 0.9447983014861996,
        "recall": 0.9694989106753813,
        "f1": 0.956989247311828,
        "threshold": 0.6000000000000002,
        "support": 459
      },
      "rigid_bronchoscopy": {
        "precision": 0.9715909090909091,
        "recall": 0.9884393063583815,
        "f1": 0.9799426934097422,
        "threshold": 0.8500000000000002,
        "support": 173
      },
      "tbna_conventional": {
        "precision": 0.9670658682634731,
        "recall": 0.9641791044776119,
        "f1": 0.9656203288490284,
        "threshold": 0.6500000000000001,
        "support": 335
      },
      "therapeutic_aspiration": {
        "precision": 0.65625,
        "recall": 0.9545454545454546,
        "f1": 0.7777777777777778,
        "threshold": 0.7500000000000002,
        "support": 22
      },
      "thermal_ablation": {
        "precision": 0.0,
        "recall": 0.0,
        "f1": 0.0,
        "threshold": 0.5,
        "support": 0
      },
      "thoracentesis": {
        "precision": 0.8448275862068966,
        "recall": 1.0,
        "f1": 0.9158878504672897,
        "threshold": 0.8500000000000002,
        "support": 49
      },
      "transbronchial_biopsy": {
        "precision": 0.8337950138504155,
        "recall": 0.9435736677115988,
        "f1": 0.8852941176470588,
        "threshold": 0.6500000000000001,
        "support": 319
      },
      "transbronchial_cryobiopsy": {
        "precision": 0.9024390243902439,
        "recall": 0.9487179487179487,
        "f1": 0.925,
        "threshold": 0.8500000000000002,
        "support": 39
      },
      "whole_lung_lavage": {
        "precision": 0.7727272727272727,
        "recall": 0.9444444444444444,
        "f1": 0.85,
        "threshold": 0.5500000000000002,
        "support": 18
      }
    }
  },
  "config": {
    "model_name": "microsoft/BiomedNLP-BiomedBERT-base-uncased-abstract-fulltext",
    "batch_size": 16,
    "learning_rate": 2e-05,
    "num_epochs": 5,
    "max_length": 512,
    "head_tokens": 382,
    "tail_tokens": 128
  }
}