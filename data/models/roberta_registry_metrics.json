{
  "best_epoch": 5,
  "best_val_macro_f1": 0.8175672661400435,
  "test_metrics": {
    "macro_f1": 0.8106447035617192,
    "micro_f1": 0.8587360594795539,
    "rare_class_f1": 0.8145046760797783,
    "per_label": {
      "diagnostic_bronchoscopy": {
        "precision": 0.9327586206896552,
        "recall": 0.9549867608120035,
        "f1": 0.9437418229393807,
        "threshold": 0.5500000000000002,
        "support": 1133
      },
      "bal": {
        "precision": 0.8214285714285714,
        "recall": 0.8363636363636363,
        "f1": 0.8288288288288288,
        "threshold": 0.7500000000000002,
        "support": 110
      },
      "bronchial_wash": {
        "precision": 0.3333333333333333,
        "recall": 0.5294117647058824,
        "f1": 0.4090909090909091,
        "threshold": 0.8000000000000002,
        "support": 17
      },
      "brushings": {
        "precision": 0.8641975308641975,
        "recall": 0.9012875536480687,
        "f1": 0.8823529411764706,
        "threshold": 0.7500000000000002,
        "support": 233
      },
      "endobronchial_biopsy": {
        "precision": 0.7666666666666667,
        "recall": 0.7076923076923077,
        "f1": 0.736,
        "threshold": 0.8500000000000002,
        "support": 65
      },
      "tbna_conventional": {
        "precision": 0.8902439024390244,
        "recall": 0.6822429906542056,
        "f1": 0.7724867724867724,
        "threshold": 0.8000000000000002,
        "support": 214
      },
      "linear_ebus": {
        "precision": 0.9025157232704403,
        "recall": 0.9140127388535032,
        "f1": 0.9082278481012658,
        "threshold": 0.7000000000000002,
        "support": 314
      },
      "radial_ebus": {
        "precision": 0.8401937046004843,
        "recall": 0.9327956989247311,
        "f1": 0.8840764331210191,
        "threshold": 0.7000000000000002,
        "support": 372
      },
      "navigational_bronchoscopy": {
        "precision": 0.8444444444444444,
        "recall": 0.9318801089918256,
        "f1": 0.8860103626943006,
        "threshold": 0.7000000000000002,
        "support": 367
      },
      "transbronchial_biopsy": {
        "precision": 0.7878048780487805,
        "recall": 0.8455497382198953,
        "f1": 0.8156565656565656,
        "threshold": 0.7000000000000002,
        "support": 382
      },
      "transbronchial_cryobiopsy": {
        "precision": 0.6896551724137931,
        "recall": 0.8333333333333334,
        "f1": 0.7547169811320755,
        "threshold": 0.8000000000000002,
        "support": 72
      },
      "therapeutic_aspiration": {
        "precision": 0.7101449275362319,
        "recall": 0.7101449275362319,
        "f1": 0.7101449275362319,
        "threshold": 0.8000000000000002,
        "support": 69
      },
      "foreign_body_removal": {
        "precision": 0.6888888888888889,
        "recall": 0.9117647058823529,
        "f1": 0.7848101265822784,
        "threshold": 0.8500000000000002,
        "support": 34
      },
      "airway_dilation": {
        "precision": 0.7931034482758621,
        "recall": 0.696969696969697,
        "f1": 0.7419354838709677,
        "threshold": 0.8000000000000002,
        "support": 66
      },
      "airway_stent": {
        "precision": 0.775,
        "recall": 0.8454545454545455,
        "f1": 0.808695652173913,
        "threshold": 0.8500000000000002,
        "support": 110
      },
      "thermal_ablation": {
        "precision": 0.6645569620253164,
        "recall": 0.8974358974358975,
        "f1": 0.7636363636363637,
        "threshold": 0.7500000000000002,
        "support": 117
      },
      "tumor_debulking_non_thermal": {
        "precision": 0.6727272727272727,
        "recall": 0.6166666666666667,
        "f1": 0.6434782608695652,
        "threshold": 0.8500000000000002,
        "support": 60
      },
      "cryotherapy": {
        "precision": 0.7619047619047619,
        "recall": 0.9142857142857143,
        "f1": 0.8311688311688312,
        "threshold": 0.8500000000000002,
        "support": 35
      },
      "blvr": {
        "precision": 0.9193548387096774,
        "recall": 0.95,
        "f1": 0.9344262295081968,
        "threshold": 0.8000000000000002,
        "support": 60
      },
      "peripheral_ablation": {
        "precision": 0.7391304347826086,
        "recall": 0.6623376623376623,
        "f1": 0.6986301369863014,
        "threshold": 0.8500000000000002,
        "support": 77
      },
      "bronchial_thermoplasty": {
        "precision": 1.0,
        "recall": 1.0,
        "f1": 1.0,
        "threshold": 0.6500000000000001,
        "support": 24
      },
      "whole_lung_lavage": {
        "precision": 0.9375,
        "recall": 1.0,
        "f1": 0.967741935483871,
        "threshold": 0.7500000000000002,
        "support": 15
      },
      "rigid_bronchoscopy": {
        "precision": 0.6601941747572816,
        "recall": 0.912751677852349,
        "f1": 0.7661971830985915,
        "threshold": 0.7500000000000002,
        "support": 149
      },
      "thoracentesis": {
        "precision": 0.7857142857142857,
        "recall": 0.868421052631579,
        "f1": 0.825,
        "threshold": 0.8500000000000002,
        "support": 38
      },
      "chest_tube": {
        "precision": 0.7704918032786885,
        "recall": 0.746031746031746,
        "f1": 0.7580645161290323,
        "threshold": 0.8000000000000002,
        "support": 63
      },
      "ipc": {
        "precision": 0.7540983606557377,
        "recall": 0.92,
        "f1": 0.8288288288288288,
        "threshold": 0.8500000000000002,
        "support": 50
      },
      "medical_thoracoscopy": {
        "precision": 0.8706896551724138,
        "recall": 0.9181818181818182,
        "f1": 0.8938053097345132,
        "threshold": 0.8500000000000002,
        "support": 110
      },
      "pleurodesis": {
        "precision": 0.8356164383561644,
        "recall": 0.8591549295774648,
        "f1": 0.8472222222222222,
        "threshold": 0.8500000000000002,
        "support": 71
      },
      "fibrinolytic_therapy": {
        "precision": 0.7916666666666666,
        "recall": 1.0,
        "f1": 0.8837209302325582,
        "threshold": 0.7500000000000002,
        "support": 19
      }
    }
  },
  "config": {
    "model_name": "microsoft/BiomedNLP-BiomedBERT-base-uncased-abstract-fulltext",
    "batch_size": 16,
    "learning_rate": 2e-05,
    "num_epochs": 5,
    "max_length": 512,
    "head_tokens": 382,
    "tail_tokens": 128,
    "loss": "asl",
    "asl_gamma_neg": 4.0,
    "asl_gamma_pos": 1.0,
    "asl_clip": 0.05,
    "dormant_mode": "auto",
    "dormant_min_positives": 20,
    "schema_labels": [
      "diagnostic_bronchoscopy",
      "bal",
      "bronchial_wash",
      "brushings",
      "endobronchial_biopsy",
      "tbna_conventional",
      "linear_ebus",
      "radial_ebus",
      "navigational_bronchoscopy",
      "transbronchial_biopsy",
      "transbronchial_cryobiopsy",
      "therapeutic_aspiration",
      "foreign_body_removal",
      "airway_dilation",
      "airway_stent",
      "thermal_ablation",
      "tumor_debulking_non_thermal",
      "cryotherapy",
      "blvr",
      "peripheral_ablation",
      "bronchial_thermoplasty",
      "whole_lung_lavage",
      "rigid_bronchoscopy",
      "thoracentesis",
      "chest_tube",
      "ipc",
      "medical_thoracoscopy",
      "pleurodesis",
      "pleural_biopsy",
      "fibrinolytic_therapy",
      "percutaneous_tracheostomy",
      "peg_insertion"
    ],
    "active_labels": [
      "diagnostic_bronchoscopy",
      "bal",
      "bronchial_wash",
      "brushings",
      "endobronchial_biopsy",
      "tbna_conventional",
      "linear_ebus",
      "radial_ebus",
      "navigational_bronchoscopy",
      "transbronchial_biopsy",
      "transbronchial_cryobiopsy",
      "therapeutic_aspiration",
      "foreign_body_removal",
      "airway_dilation",
      "airway_stent",
      "thermal_ablation",
      "tumor_debulking_non_thermal",
      "cryotherapy",
      "blvr",
      "peripheral_ablation",
      "bronchial_thermoplasty",
      "whole_lung_lavage",
      "rigid_bronchoscopy",
      "thoracentesis",
      "chest_tube",
      "ipc",
      "medical_thoracoscopy",
      "pleurodesis",
      "fibrinolytic_therapy"
    ],
    "dormant_labels": [
      "pleural_biopsy",
      "percutaneous_tracheostomy",
      "peg_insertion"
    ],
    "teacher_logits": null,
    "distill_alpha": 0.5,
    "distill_temp": 2.0,
    "distill_loss": "mse"
  }
}